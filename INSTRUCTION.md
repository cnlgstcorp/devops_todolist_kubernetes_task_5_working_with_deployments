–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Django ToDo App —É Kubernetes
–¶–µ–π –ø—Ä–æ—î–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Django-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∑—ñ —Å–ø–∏—Å–∫–æ–º —Å–ø—Ä–∞–≤ —É –∫–ª–∞—Å—Ç–µ—Ä—ñ Kubernetes —ñ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Deployment, HPA, –∑–∞–ø–∏—Ç—ñ–≤/–ª—ñ–º—ñ—Ç—ñ–≤ —Ä–µ—Å—É—Ä—Å—ñ–≤ —ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –æ–Ω–æ–≤–ª–µ–Ω–Ω—è RollingUpdate.

üì¶ –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞
–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ–π–º—Å–ø–µ–π—Å:

bash
kubectl create namespace mateapp
kubectl config set-context --current --namespace=mateapp
–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ Deployment:

bash
kubectl apply -f infrastructure/deployment.yml
–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ Horizontal Pod Autoscaler (HPA):

bash
kubectl apply -f infrastructure/hpa.yml

yaml
requests:
  cpu: "30m"
  memory: "64Mi"
limits:
  cpu: "250m"
  memory: "128Mi"
–ó–Ω–∞—á–µ–Ω–Ω—è –≤–∏–±—Ä–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–∏–ø–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏ Django —É –ø—Ä–æ—Å—Ç–æ—ó.

requests ‚Äî –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π —Ä–µ—Å—É—Ä—Å –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É.

limits ‚Äî –≤–µ—Ä—Ö–Ω—è –º–µ–∂–∞ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–æ–¥–∏.

–¢–∞–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î QoS –∫–ª–∞—Å—É Burstable, —â–æ –¥–æ–∑–≤–æ–ª—è—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ –∫–ª–∞—Å—Ç–µ—Ä—ñ.

2. üîÅ Strategy: RollingUpdate
yaml
strategy:
  type: RollingUpdate
  rollingUpdate:
    maxUnavailable: 1
    maxSurge: 1
–í–∏–±—Ä–∞–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

maxUnavailable: 1: –º–∞–∫—Å–∏–º—É–º 1 –ø–æ–¥ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–º –ø—ñ–¥ —á–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.

maxSurge: 1: –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ 1 –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –ø–æ–¥ –ø—ñ–¥ —á–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.

–ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Å–µ—Ä–≤—ñ—Å—ñ–≤, —è–∫—ñ –º–∞—é—Ç—å –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ 24/7.

3. üìà HPA (Horizontal Pod Autoscaler)
minReplicas: 2 ‚Äî –∑–∞–±–µ–∑–ø–µ—á—É—î –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å —ñ –≤—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å.

maxReplicas: 5 ‚Äî –¥–æ–∑–≤–æ–ª—è—î –≥–Ω—É—á–∫–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

metrics: cpu + memory ‚Äî –∞–≤—Ç–æ—Å–∫–µ–π–ª—ñ–Ω–≥ —Ä–µ–∞–≥—É—î –Ω–∞ —Ä–µ–∞–ª—å–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.

HPA –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ–æ—Ä–º—É–ª—É:
DesiredReplicas = CurrentReplicas √ó (CurrentMetricValue / TargetMetricValue)
–Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è NodePort —Å–µ—Ä–≤—ñ—Å:

bash
kubectl port-forward svc/kube2py-service 8000:8080
–î–∞–ª—ñ –≤—ñ–¥–∫—Ä–∏–π —É –±—Ä–∞—É–∑–µ—Ä—ñ:

http://localhost:8000
–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:

bash
kubectl get pods
kubectl get hpa
kubectl get deployment